webpackJsonp([7,36,37,42,46],{"0PuT":function(e,t){},IKnH:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("GXH0"),i=a.n(l),o=a("6pD/"),s=a("EAjQ"),r=(a("DmJO"),a("QrwQ")),n=a("mBDO"),c=a("nG6b"),d=a("v9OR"),p=a("gUlz"),u=a("FF2x"),m={components:{Treeselect:i.a,IconSelect:s.a,position:r.default,rank:n.default,education:c.default,reward:d.default,assessment:p.default,expexcel:u.default},props:{isAdd:{type:Boolean,required:!0}},data:function(){return{peopleId:"",admin:!1,position:this.peopleId,rank:{items:[this.peopleId,this.admin]},education:this.peopleId,reward:this.peopleId,assessment:this.peopleId,expexcel:this.peopleId,title:"",dialog:!1,activeName:"one",havePeople:!1,noPeople:!0,savePeople:!1,okPeople:!1,loading:!1,isOne:!1,rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],idcard:[{required:!0,message:"请输入身份证",trigger:"blur"}]},statess:[{value:"在职",label:"在职"},{value:"退休",label:"退休"},{value:"调出",label:"调出"},{value:"死亡",label:"死亡"},{value:"辞职",label:"辞职"},{value:"辞退",label:"辞退"},{value:"开除",label:"开除"},{value:"其他",label:"其他"}],sexs:[{value:"男",label:"男"},{value:"女",label:"女"}],details:[{value:"军转干部",label:"军转干部"},{value:"实名制管理领导干部",label:"实名制管理领导干部"}],realNames:[{value:"机构改革",label:"机构改革"},{value:"换届",label:"换届"},{value:"其他",label:"其他"}],partys:[],nationalitys:[],positions:[],positionLevels:[],politicalStatuss:[],form:{name:"",idcard:"",birthday:"",unitId:"",sex:"",birthplace:"",nationality:"",workday:"",party:"",partyTime:"",secondParty:"",thirdParty:"",position:"",positionTime:"",positionLevel:"",politicalStatuss:"",createTime:"",isEnable:"是",baseWorker:"否",states:"在职",detail:"",turnRankTime:"",turnRank:"",realName:""}}},methods:{handleClick:function(e,t){(console.log(e,t),"first"===this.activeName)?(this.position=this.peopleId,this.$refs.position.admin=this.admin):"second"===this.activeName?this.rank={items:[this.peopleId,this.admin]}:"third"===this.activeName?this.education=this.peopleId:"fourth"===this.activeName?this.reward=this.peopleId:"five"===this.activeName?this.assessment=this.peopleId:"seven"===this.activeName&&(this.expexcel=this.peopleId)},getNationalitys:function(){var e=this;Object(o.d)().then(function(t){e.nationalitys=t.result})},getPartys:function(){var e=this;Object(o.f)().then(function(t){e.partys=t.result})},getPositions:function(){var e=this;Object(o.j)().then(function(t){e.positions=t.result})},getPositionLevels:function(){var e=this;Object(o.k)().then(function(t){e.positionLevels=t.result})},getPoliticalStatuss:function(){var e=this;Object(o.i)().then(function(t){e.politicalStatuss=t.result})},resetForm:function(){this.dialog=!1,this.$refs.form.resetFields(),this.form={id:"",name:"",isEnable:"是",baseWorker:"否"},this.iframe="true"},cancel:function(){this.resetForm()},doSubmit:function(){var e=this;this.$refs.form.validate(function(t){t&&(e.loading=!0,e.isAdd?e.doAdd():e.doEdit())})},doOk:function(){this.dialog=!1,this.$parent.$parent.unitId=this.form.unitId,this.$parent.$parent.init()},doSubmitAnd:function(){var e=this;this.$refs.form.validate(function(t){t&&(e.loading=!0,Object(o.a)(e.form).then(function(t){e.$notify({title:"添加成功",type:"success",duration:2500}),e.$refs.form.resetFields(),e.isOne=!0,e.havePeople=!0,e.noPeople=!1,e.savePeople=!1,e.okPeople=!0,e.activeName="first",e.peopleId=t.result.id,e.position=t.result.id,e.rank=t.result.id,e.education=e.result.id,e.reward=e.result.id,e.assessment=e.result.id,e.loading=!1}).catch(function(t){e.loading=!1,console.log(t)}))})},doAdd:function(){var e=this;Object(o.a)(this.form).then(function(t){e.$notify({title:"添加成功",type:"success",duration:2500}),e.$parent.$parent.unitId=e.form.unitId,e.$parent.$parent.init(),e.resetForm(),e.loading=!1}).catch(function(t){e.loading=!1,console.log(t)})},doEdit:function(){var e=this;Object(o.c)(this.form).then(function(t){e.resetForm(),e.$notify({title:"修改成功",type:"success",duration:2500}),e.loading=!1,e.$parent.$parent.init(),e.$parent.$parent.handleNodeClick(e.form.unitId)}).catch(function(t){e.loading=!1,console.log(t)})}},created:function(){this.getNationalitys(),this.getPartys(),this.getPositions(),this.getPositionLevels(),this.getPoliticalStatuss()}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticStyle:{"margin-left":"0px"},attrs:{visible:e.dialog,title:e.isAdd?"新增人员":"编辑人员","append-to-body":"",width:"90%"},on:{"update:visible":function(t){e.dialog=t}}},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{disabled:e.isOne,label:"基本信息",name:"one"}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,size:"small","label-width":"140px"}},[a("el-form-item",{attrs:{label:"单位Id",prop:"unitId",hidden:"true"}},[a("el-input",{model:{value:e.form.unitId,callback:function(t){e.$set(e.form,"unitId",t)},expression:"form.unitId"}})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{staticStyle:{width:"80%"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"身份证号",prop:"idcard"}},[a("el-input",{staticStyle:{width:"80%"},model:{value:e.form.idcard,callback:function(t){e.$set(e.form,"idcard",t)},expression:"form.idcard"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出生年月",prop:"birthday"}},[a("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.sexs,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"籍贯",prop:"birthplace"}},[a("el-input",{staticStyle:{width:"80%"},model:{value:e.form.birthplace,callback:function(t){e.$set(e.form,"birthplace",t)},expression:"form.birthplace"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"民族",prop:"nationality"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.nationality,callback:function(t){e.$set(e.form,"nationality",t)},expression:"form.nationality"}},e._l(e.nationalitys,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"参加工作时间",prop:"workday"}},[a("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.workday,callback:function(t){e.$set(e.form,"workday",t)},expression:"form.workday"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"政治面貌",prop:"party"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.party,callback:function(t){e.$set(e.form,"party",t)},expression:"form.party"}},e._l(e.partys,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"入党（团）时间",prop:"partyTime"}},[a("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.partyTime,callback:function(t){e.$set(e.form,"partyTime",t)},expression:"form.partyTime"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"第二党派",prop:"secondParty"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.secondParty,callback:function(t){e.$set(e.form,"secondParty",t)},expression:"form.secondParty"}},e._l(e.partys,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"第三党派",prop:"thirdParty"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.thirdParty,callback:function(t){e.$set(e.form,"thirdParty",t)},expression:"form.thirdParty"}},e._l(e.partys,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"编制类型",prop:"politicalStatus"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.politicalStatus,callback:function(t){e.$set(e.form,"politicalStatus",t)},expression:"form.politicalStatus"}},e._l(e.politicalStatuss,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"公务员登记时间",prop:"createTime"}},[a("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.createTime,callback:function(t){e.$set(e.form,"createTime",t)},expression:"form.createTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"特殊人员",prop:"detail"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.detail,callback:function(t){e.$set(e.form,"detail",t)},expression:"form.detail"}},e._l(e.details,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"单列管理事由",prop:"realName"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}},e._l(e.realNames,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"套转职级",prop:"turnRank"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择",disabled:!0},model:{value:e.form.turnRank,callback:function(t){e.$set(e.form,"turnRank",t)},expression:"form.turnRank"}},e._l(e.positionLevels,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"套转职级时间",prop:"turnRankTime"}},[a("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd",disabled:!0},model:{value:e.form.turnRankTime,callback:function(t){e.$set(e.form,"turnRankTime",t)},expression:"form.turnRankTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"现职务层次",prop:"position"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择",disabled:!0},model:{value:e.form.position,callback:function(t){e.$set(e.form,"position",t)},expression:"form.position"}},e._l(e.positions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"职务层次时间",prop:"positionTime"}},[a("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd",disabled:!0},model:{value:e.form.positionTime,callback:function(t){e.$set(e.form,"positionTime",t)},expression:"form.positionTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"现任职级",clearable:"",prop:"positionLevel"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{filterable:"",placeholder:"请选择",disabled:!0},model:{value:e.form.positionLevel,callback:function(t){e.$set(e.form,"positionLevel",t)},expression:"form.positionLevel"}},e._l(e.positionLevels,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"现任职级时间",prop:"positionLevelTime"}},[a("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd",disabled:!0},model:{value:e.form.positionLevelTime,callback:function(t){e.$set(e.form,"positionLevelTime",t)},expression:"form.positionLevelTime"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"状态",prop:"sex"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.states,callback:function(t){e.$set(e.form,"states",t)},expression:"form.states"}},e._l(e.statess,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8,hidden:"true"}},[a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"是否兼职",prop:"isEnable"}},[a("el-radio",{attrs:{label:"是"},model:{value:e.form.isEnable,callback:function(t){e.$set(e.form,"isEnable",t)},expression:"form.isEnable"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"否"},model:{value:e.form.isEnable,callback:function(t){e.$set(e.form,"isEnable",t)},expression:"form.isEnable"}},[e._v("否")])],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"是否具有两年以上基层工作经历",prop:"baseWorker"}},[a("el-radio",{attrs:{label:"是"},model:{value:e.form.baseWorker,callback:function(t){e.$set(e.form,"baseWorker",t)},expression:"form.baseWorker"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"否"},model:{value:e.form.baseWorker,callback:function(t){e.$set(e.form,"baseWorker",t)},expression:"form.baseWorker"}},[e._v("否")])],1)],1)],1)],1)],1),e._v(" "),e.havePeople?a("el-tab-pane",{attrs:{label:"职务信息",name:"first"}},[a("position",{ref:"position",attrs:{position:e.position}})],1):e._e(),e._v(" "),e.havePeople?a("el-tab-pane",{attrs:{label:"职级信息",name:"second"}},[a("rank",{ref:"rank",attrs:{rank:e.rank}})],1):e._e(),e._v(" "),e.havePeople?a("el-tab-pane",{attrs:{label:"学历学位",name:"third"}},[a("education",{ref:"education",attrs:{education:e.education}})],1):e._e(),e._v(" "),e.havePeople?a("el-tab-pane",{attrs:{label:"奖惩信息",name:"fourth"}},[a("reward",{ref:"reward",attrs:{reward:e.reward}})],1):e._e(),e._v(" "),e.havePeople?a("el-tab-pane",{attrs:{label:"考核信息",name:"five"}},[a("assessment",{ref:"assessment",attrs:{assessment:e.assessment}})],1):e._e(),e._v(" "),e.havePeople?a("el-tab-pane",{attrs:{label:"导出数据",name:"seven"}},[a("expexcel",{ref:"expexcel",attrs:{expexcel:e.expexcel}})],1):e._e(),e._v(" "),e.havePeople?a("el-tab-pane",{staticClass:"peopleName",attrs:{label:e.title,name:"six",disabled:""}},[e._v(e._s(e.title))]):e._e()],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:e.cancel}},[e._v("取消")]),e._v(" "),e.noPeople?a("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.doSubmitAnd}},[e._v("保存并继续")]):e._e(),e._v(" "),e.savePeople?a("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.doSubmit}},[e._v("保存")]):e._e(),e._v(" "),e.okPeople?a("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.doOk}},[e._v("确定")]):e._e()],1)],1)},staticRenderFns:[]};var h=a("VU/8")(m,f,!1,function(e){a("v22/")},null,null);t.default=h.exports},OOXZ:function(e,t){},Ohm2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("gN++"),i=a("6pD/"),o=a("Ks07"),s=a("R2SV"),r=a("eH3O"),n=a("IKnH"),c=a("qWGQ"),d=a("zTJK"),p=["出生年月","性别","籍贯","民族","参加工作时间","政治面貌","第二党派","第三党派","现职务层次","任现职务层次时间","现职级","现职级时间","是否具有两年以上基层工作经历","编制类型","公务员登记时间","是否兼任","特殊人员","入党（团）时间","套转职级时间","单列管理事由","状态","套转职级"],u={components:{eForm:n.default,eTabs:c.default,eExport:d.default,addAssessment:r.default},mixins:[o.a],data:function(){return{unitName:"",isCollapse:!0,delLoading:!1,activeName:"enable",enable:"",outPeople:"",states:"在职",category:{},pid:"",flag:!1,downloadLoading:!1,excelLoading:!1,exceldialog:!1,units:[],name:"",defaultCheckedKeys:[],peoples:p,colOptions:[],colSelect:[],admin:!1,visible:!1,unitId:null,checkAll:!1,isIndeterminate:!0,defaultProps:{children:"children",label:"name"},query:{name:"",idcard:"",politicalStatus:"全部",states:"在职",detail:"全部"},queryTypeOptions:[{key:"allType",display_name:"全部"},{key:"office",display_name:"行政编制"},{key:"enterprise",display_name:"事业编制（参公）"},{key:"other",display_name:"其他"}],details:[{key:"allType",display_name:"全部"},{key:"jun",display_name:"军转干部"},{key:"ganbu",display_name:"实名制管理领导干部"},{key:"other",display_name:"其他"}],enabledTypeOptions:[{key:"在职",display_name:"在职"},{key:"退休",display_name:"退休"},{key:"调出",display_name:"调出"},{key:"死亡",display_name:"死亡"},{key:"辞职",display_name:"辞职"},{key:"辞退",display_name:"辞退"},{key:"开除",display_name:"开除"},{key:"其他",display_name:"其他"}],colData:[{title:"出生年月",istrue:!0},{title:"性别",istrue:!0},{title:"籍贯",istrue:!0},{title:"民族",istrue:!0},{title:"参加工作时间",istrue:!0},{title:"政治面貌",istrue:!0},{title:"第二党派",istrue:!1},{title:"第三党派",istrue:!1},{title:"现职务层次",istrue:!0},{title:"任现职务层次时间",istrue:!0},{title:"现职级",istrue:!0},{title:"现职级时间",istrue:!0},{title:"是否具有两年以上基层工作经历",istrue:!0},{title:"编制类型",istrue:!0},{title:"公务员登记时间",istrue:!0},{title:"是否兼任",istrue:!0},{title:"特殊人员",istrue:!1},{title:"入党（团）时间",istrue:!0},{title:"套转职级时间",istrue:!0},{title:"单列管理事由",istrue:!0},{title:"状态",istrue:!0},{title:"套转职级",istrue:!1}],data:[]}},created:function(){var e=this;this.$nextTick(function(){e.init(),e.getUnitDatas()});for(var t=0;t<this.colData.length;t++)this.colSelect.push(this.colData[t].title),"姓名"!==this.colData[t].title&&this.colOptions.push(this.colData[t].title)},watch:{colOptions:function(e){var t=this.colSelect.filter(function(t){return e.indexOf(t)<0});this.colData.filter(function(e){-1!==t.indexOf(e.title)?e.istrue=!1:e.istrue=!0})}},methods:{tableDbEdit:function(e,t,a,l){l.target.innerHTML="";var i=document.createElement("input");i.value="",i.setAttribute("type","text"),i.style.width="60%",a.appendChild(i),i.onblur=function(){a.removeChild(i),l.target.innerHTML=i.value}},tabclick:function(){"enable"===this.activeName?this.states="在职":"outPeople"===this.activeName&&(this.states="调出")},getRowClass:function(e){e.row,e.column,e.rowIndex,e.columnIndex},beforeInit:function(){this.url="api/people/info";var e=this.query,t=e.idcard,a=e.politicalStatus,l=e.name,i=e.states,o=e.detail;return this.params={page:this.page,size:this.size,sort:"id,desc",unitId:this.unitId,name:l,idcard:t,politicalStatus:a,states:i,detail:o},!0},getUnitDatas:function(){var e=this,t={id:"ID",sort:"desc",name:this.unitName};Object(l.l)(t).then(function(t){e.units=t.result,e.unitId=t.result[0].id,"1"===t.ext.roles&&(e.admin=!0)})},handleNodeClick:function(e){0===e.id?this.unitId=null:(this.unitId=e.id,this.unitName=e.name),this.init(),this.defaultCheckedKeys=[e.id]},handleCheckAllChange:function(e){this.colOptions=e?p:[],this.isIndeterminate=!1},handlecolOptionsChange:function(e){var t=e.length;this.checkAll=t===this.peoples.length,this.isIndeterminate=t>0&&t<this.peoples.length},formatter:function(e,t,a,l){if(null!=e[t.property])return Object(s.a)(e[t.property])},edit:function(e){this.isAdd=!1;var t=this.$refs.form;t.form={id:e.id,unitId:this.unitId,name:e.name,idcard:e.idcard,birthday:e.birthday,sex:e.sex,birthplace:e.birthplace,nationality:e.nationality,workday:e.workday,party:e.party,partyTime:e.partyTime,secondParty:e.secondParty,thirdParty:e.thirdParty,position:e.position,positionTime:e.positionTime,positionLevel:e.positionLevel,positionLevelTime:e.positionLevelTime,politicalStatus:e.politicalStatus,detail:e.detail,states:e.states,createTime:e.createTime,isEnable:e.isEnable,baseWorker:e.baseWorker,turnRank:e.turnRank,turnRankTime:e.turnRankTime,realName:e.realName},t.isOne=!1,t.peopleId=e.id,t.admin=this.admin,t.title=e.name,t.dialog=!0,t.okPeople=!1,t.havePeople=!0,t.activeName="one",t.savePeople=!0,t.noPeople=!1},addAssessment:function(){var e=this.$refs.addAssessment;e.dialogAddAssessmentVisible=!0,e.unitId=this.unitId},add:function(){this.isAdd=!0;var e=this.$refs.form;e.form={unitId:this.unitId,baseWorker:"否",states:"在职"},e.dialog=!0,e.peopleId="",e.title="",e.havePeople=!1,e.savePeople=!1,e.noPeople=!0,e.isOne=!1,e.activeName="one"},subDelete:function(e){var t=this;this.delLoading=!0;var a={id:e};Object(i.b)(a).then(function(a){t.delLoading=!1,t.$refs[e].doClose(),t.init(),t.$notify({title:"删除成功",type:"success",duration:2500})}).catch(function(a){t.delLoading=!1,t.$refs[e].doClose(),console.log(a.response.data.message)})},downloadPeople:function(){var e=this.$refs.exports;e.unitId=this.unitId,e.query={unitName:this.unitName},e.dialog=!0,e.init()},uploadSuccess:function(e,t){if(200!=e.code)return this.excelLoading=!1,this.$notify({title:"人员导入失败"+e.msg,type:"error",duration:25e3}),t;this.excelLoading=!1,this.$notify({title:"人员导入成功"+e.msg,type:"success",duration:25e3}),this.exceldialog=!1},handleError:function(e,t){var a=JSON.parse(e.message);this.$notify({title:a.message,type:"error",duration:2500})},beforeAvatarUpload:function(e){var t="xls"===e.name.split(".")[1],a="xlsx"===e.name.split(".")[1];return t||a||this.$message.error("上传w文件只能是 xls、xlsx格式!"),t||a},beforeAvatarUploadOut:function(e){var t="json"===e.name.split(".")[1];return t||this.$message.error("上传w文件只能是 json格式!"),t},handleExceed:function(e){this.$message.warning("当前限制选择 1 个文件，请删除后继续上传")},submitAllUpload:function(){this.excelLoading=!0,this.category={fullImport:1},console.log(this.category),this.$refs.uploadEnable.submit()},submitUpload:function(){this.excelLoading=!0,this.category={fullImport:0},console.log(this.category),this.$refs.uploadEnable.submit()},submitOutUpload:function(){this.excelLoading=!0,this.category={unitId:this.unitId},console.log(this.category),this.$refs.upload.submit()},uploadUrl:function(){return"在职"==this.states?"http://localhost:8085/api/data/importPeople":"http://localhost:8085/api/data/importOutPeopleData"},handleRemove:function(e){console.log(e)},handlePreview:function(e){console.log(e)},handleClick:function(e){},rowClick:function(e,t,a){var l="1";this.admin&&(l="0"),this.pid={items:[e.id,e.name,l]},this.flag=!0}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"margin-left":"5px"},attrs:{gutter:20}},[e.isCollapse?a("el-col",{attrs:{xs:7,sm:6,md:4,lg:4,xl:4,collapse:e.isCollapse}},[a("div",{staticClass:"head-container",staticStyle:{"padding-top":"10px"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"输入单位名称搜索","prefix-icon":"el-icon-search"},on:{input:e.getUnitDatas},model:{value:e.unitName,callback:function(t){e.unitName=t},expression:"unitName"}})],1),e._v(" "),a("el-tree",{ref:"tree",attrs:{data:e.units,"node-key":"id",props:e.defaultProps,"highlight-current":!0,"expand-on-click-node":!1,"default-checked-keys":e.defaultCheckedKeys,"default-expand-all":""},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.node;return t.data,a("span",{staticClass:"span-ellipsis"},[a("span",{attrs:{title:l.label}},[e._v(e._s(l.label))])])}}],null,!1,3925386037)})],1):e._e(),e._v(" "),a("el-col",{staticStyle:{"border-left":"1px solid white"},attrs:{xs:17,sm:18,md:20,lg:20,xl:20}},[a("div",{staticClass:"head-container",staticStyle:{"padding-top":"10px"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"10%"},attrs:{clearable:"",placeholder:"姓名或简名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.toQuery(t)}},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}}),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"10%"},attrs:{clearable:"",placeholder:"全部或部分身份证"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.toQuery(t)}},model:{value:e.query.idcard,callback:function(t){e.$set(e.query,"idcard",t)},expression:"query.idcard"}}),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"10%"},attrs:{clearable:"",placeholder:"请选择人员状态"},on:{change:e.toQuery},model:{value:e.query.states,callback:function(t){e.$set(e.query,"states",t)},expression:"query.states"}},e._l(e.enabledTypeOptions,function(e){return a("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})}),1),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"10%"},attrs:{clearable:"",placeholder:"编制类型"},on:{change:e.toQuery},model:{value:e.query.politicalStatus,callback:function(t){e.$set(e.query,"politicalStatus",t)},expression:"query.politicalStatus"}},e._l(e.queryTypeOptions,function(e){return a("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})}),1),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"10%"},attrs:{clearable:"",placeholder:"特殊人员"},on:{change:e.toQuery},model:{value:e.query.detail,callback:function(t){e.$set(e.query,"detail",t)},expression:"query.detail"}},e._l(e.details,function(e){return a("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})}),1),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"success",icon:"el-icon-search"},on:{click:e.toQuery}},[e._v("搜索\n        ")]),e._v(" "),a("div",{staticStyle:{display:"inline-block",margin:"0px 2px"}},[a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:e.add}},[e._v("新增")])],1),e._v(" "),a("div",{staticStyle:{display:"inline-block"}},[a("el-button",{staticClass:"filter-item",attrs:{loading:e.downloadLoading,size:"mini",type:"warning",icon:"el-icon-download"},on:{click:e.downloadPeople}},[e._v("导出\n          ")])],1),e._v(" "),a("div",{staticStyle:{display:"inline-block",margin:"0px 2px"}},[a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-upload"},on:{click:function(t){e.exceldialog=!0}}},[e._v("导入")])],1),e._v(" "),a("div",{staticStyle:{display:"inline-block",margin:"0px 2px"}},[a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:e.addAssessment}},[e._v("考核")])],1),e._v(" "),a("div",{staticClass:"head-container",staticStyle:{display:"inline-block",margin:"0px 2px",float:"right","padding-top":"-5px"}},[a("el-popover",{attrs:{placement:"right",trigger:"click"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选\n            ")]),e._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),a("el-checkbox-group",{on:{change:e.handlecolOptionsChange},model:{value:e.colOptions,callback:function(t){e.colOptions=t},expression:"colOptions"}},e._l(e.peoples,function(t){return a("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])}),1),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"primary",size:"mini",icon:"el-icon-edit"},slot:"reference"},[e._v("显示/隐藏表头")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.exceldialog,"append-to-body":"",width:"500px"},on:{"update:visible":function(t){e.exceldialog=t}}},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.tabclick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"在职人员",name:"enable"}},[a("el-upload",{ref:"uploadEnable",staticClass:"upload-demo",attrs:{drag:"",action:e.uploadUrl(),data:e.category,loading:e.excelLoading,limit:1,"on-exceed":e.handleExceed,name:"excelFile","on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-error":e.handleError,"on-success":e.uploadSuccess,"auto-upload":!1,"before-upload":e.beforeAvatarUpload}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将在职人员文件拖到此处，或"),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("一次只能上传一个文件，仅限Excel格式")])])],1),e._v(" "),a("el-tab-pane",{attrs:{label:"调出人员",name:"outPeople"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:e.uploadUrl(),data:e.category,loading:e.excelLoading,limit:1,"on-exceed":e.handleExceed,name:"excelFile","on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-error":e.handleError,"on-success":e.uploadSuccess,"auto-upload":!1,"before-upload":e.beforeAvatarUploadOut}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将调出人员文件拖到此处，或"),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("一次只能上传一个文件，仅限Json格式")])])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["enable"==e.activeName?a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:e.submitAllUpload}},[e._v("覆盖导入")]):e._e(),e._v(" "),"enable"==e.activeName?a("el-button",{attrs:{type:"primary"},on:{click:e.submitUpload}},[e._v("新增导入")]):e._e(),e._v(" "),"outPeople"==e.activeName?a("el-button",{attrs:{type:"primary"},on:{click:e.submitOutUpload}},[e._v("调出导入")]):e._e()],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","font-size":"10px"},attrs:{"row-style":e.getRowClass,"header-row-style":e.getRowClass,"header-cell-style":{"text-align":"center",background:"#ADD8E6",color:"#030303"},"cell-style":{padding:"0px"},data:e.data,size:"small","row-key":"id","element-loading-text":"请稍后","highlight-current-row":"","element-loading-spinner":"el-icon-loading",border:""},on:{"cell-dblclick":e.tableDbEdit,"row-click":e.rowClick}},[a("el-table-column",{attrs:{type:"index",label:"序号",fixed:"left",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"","show-overflow-tooltip":!0,fixed:"left",label:"姓名",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.edit(t.row)}}},[e._v("\n                "+e._s(t.row.name)+"\n              ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"idcard",width:"190px",label:"身份证号"}}),e._v(" "),e.colData[0].istrue?a("el-table-column",{attrs:{sortable:"","show-overflow-tooltip":!0,formatter:e.formatter,width:"110px",prop:"birthday",label:"出生年月"}}):e._e(),e._v(" "),e.colData[1].istrue?a("el-table-column",{attrs:{"show-overflow-tooltip":!0,width:"50px",prop:"sex",label:"性别"}}):e._e(),e._v(" "),e.colData[2].istrue?a("el-table-column",{attrs:{"show-overflow-tooltip":!0,width:"120px",prop:"birthplace",label:"籍贯"}}):e._e(),e._v(" "),e.colData[3].istrue?a("el-table-column",{attrs:{sortable:"","show-overflow-tooltip":!0,width:"80px",prop:"nationality",label:"民族"}}):e._e(),e._v(" "),e.colData[4].istrue?a("el-table-column",{attrs:{"show-overflow-tooltip":!0,formatter:e.formatter,width:"110px",prop:"workday",label:"参加工作时间"}}):e._e(),e._v(" "),e.colData[20].istrue?a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"states",width:"90px",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"在职"===t.row.states?"success":"warning"}},[e._v(e._s(t.row.states))])]}}],null,!1,1923337597)}):e._e(),e._v(" "),e.colData[5].istrue?a("el-table-column",{attrs:{sortable:"","show-overflow-tooltip":!0,prop:"party",width:"110px",label:"政治面貌"}}):e._e(),e._v(" "),e.colData[17].istrue?a("el-table-column",{attrs:{"show-overflow-tooltip":!0,formatter:e.formatter,width:"110px",prop:"partyTime",label:"入党（团）时间"}}):e._e(),e._v(" "),e.colData[6].istrue?a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"secondParty",label:"第二党派"}}):e._e(),e._v(" "),e.colData[7].istrue?a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"thirdParty",label:"第三党派"}}):e._e(),e._v(" "),e.colData[8].istrue?a("el-table-column",{attrs:{sortable:"","show-overflow-tooltip":!0,prop:"position",width:"100px",label:"职务层次"}}):e._e(),e._v(" "),e.colData[9].istrue?a("el-table-column",{attrs:{"show-overflow-tooltip":!0,formatter:e.formatter,width:"110px",prop:"positionTime",label:"职务层次时间"}}):e._e(),e._v(" "),e.colData[21].istrue?a("el-table-column",{attrs:{sortable:"","show-overflow-tooltip":!0,prop:"turnRank",width:"130px",label:"套转职级"}}):e._e(),e._v(" "),e.colData[18].istrue?a("el-table-column",{attrs:{"show-overflow-tooltip":!0,formatter:e.formatter,width:"110px",prop:"turnRankTime",label:"套转职级时间"}}):e._e(),e._v(" "),e.colData[10].istrue?a("el-table-column",{attrs:{sortable:"","show-overflow-tooltip":!0,prop:"positionLevel",width:"130px",label:"现任职级"}}):e._e(),e._v(" "),e.colData[11].istrue?a("el-table-column",{attrs:{"show-overflow-tooltip":!0,formatter:e.formatter,width:"110px",prop:"positionLevelTime",label:"现任职级时间"}}):e._e(),e._v(" "),e.colData[12].istrue?a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"baseWorker",width:"90px",label:"基层工作两年以上"}}):e._e(),e._v(" "),e.colData[13].istrue?a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"politicalStatus",width:"130px",label:"编制类型"}}):e._e(),e._v(" "),e.colData[14].istrue?a("el-table-column",{attrs:{"show-overflow-tooltip":!0,formatter:e.formatter,width:"110px",prop:"createTime",label:"公务员登记时间"}}):e._e(),e._v(" "),e.colData[15].istrue?a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"isEnable",label:"是否兼任"}}):e._e(),e._v(" "),e.colData[16].istrue?a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"detail",label:"特殊人员",width:"100px"}}):e._e(),e._v(" "),e.colData[19].istrue?a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"realName",label:"单列管理事由"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"tag",fixed:"right",label:"操作",width:"60px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{ref:t.row.id,attrs:{placement:"top",width:"180"}},[a("p",[e._v("确定删除本条数据吗？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.$refs[t.row.id].doClose()}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{loading:e.delLoading,type:"primary",size:"mini"},on:{click:function(a){return e.subDelete(t.row.id)}}},[e._v("确定\n                  ")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",disabled:1===t.row.id,type:"text",size:"mini"},slot:"reference"},[e._v("\n                  移除\n                ")])],1)]}}])})],1),e._v(" "),a("el-pagination",{staticStyle:{"margin-top":"2px",float:"right"},attrs:{total:e.total,"current-page":e.page+1,layout:"total, prev, pager, next, jumper, sizes"},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})],1)]),e._v(" "),a("el-col",{staticStyle:{float:"right","border-left":"1px solid white"},attrs:{xs:17,sm:18,md:20,lg:20,xl:20}},[e.flag?a("eTabs",{ref:"tabs",attrs:{pid:e.pid}}):e._e()],1),e._v(" "),a("eForm",{ref:"form",attrs:{"is-add":e.isAdd}}),e._v(" "),a("addAssessment",{ref:"addAssessment"}),e._v(" "),a("eExport",{ref:"exports"})],1)],1)},staticRenderFns:[]};var f=a("VU/8")(u,m,!1,function(e){a("OOXZ")},"data-v-7dff1e8a",null);t.default=f.exports},eH3O:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={name:"AddAssessment",mixins:[a("Ks07").a],data:function(){return{dialogAddAssessmentVisible:!1,loading:!1,unitId:"",data:[],query:{name:"",year:""},years:[{key:"2019",display_name:"2019"},{key:"2020",display_name:"2020"}]}},methods:{beforeInit:function(){this.url="api/people/addAssessmentInfo";var e=this.query,t=e.name,a=e.year;return this.params={page:this.page,size:this.size,sort:"id,desc",unitId:this.unitId,name:t,year:a},!0},add:function(){}},created:function(){this.init()}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticStyle:{"margin-left":"0px"},attrs:{title:"批量添加考核",visible:e.dialogAddAssessmentVisible,"append-to-body":"",width:"80%"},on:{"update:visible":function(t){e.dialogAddAssessmentVisible=t}}},[a("div",{staticClass:"head-container",staticStyle:{"padding-top":"10px"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"10%"},attrs:{clearable:"",placeholder:"姓名或简名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.toQuery(t)}},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}}),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"10%"},attrs:{clearable:"",placeholder:"考核年限"},on:{change:e.toQuery},model:{value:e.query.year,callback:function(t){e.$set(e.query,"year",t)},expression:"query.year"}},e._l(e.years,function(e){return a("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})}),1),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"success",icon:"el-icon-search"},on:{click:e.toQuery}},[e._v("搜索\n    ")])],1),e._v(" "),a("el-table",{attrs:{data:e.data}},[a("el-table-column",{attrs:{property:"name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"考核结果"}}),e._v(" "),a("el-table-column",{attrs:{property:"date",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"考核结果"}}),e._v(" "),a("el-table-column",{attrs:{property:"date",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"考核结果"}}),e._v(" "),a("el-table-column",{attrs:{property:"date",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"考核结果"}}),e._v(" "),a("el-table-column",{attrs:{property:"date",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"考核结果"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.dialogAddAssessmentVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.add}},[e._v("确定")])],1)],1)},staticRenderFns:[]};var o=a("VU/8")(l,i,!1,function(e){a("fExu")},"data-v-35dce120",null);t.default=o.exports},fExu:function(e,t){},"ffp/":function(e,t){},qWGQ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("QrwQ"),i=a("GXH0"),o=a.n(i),s=a("EAjQ"),r=(a("DmJO"),a("mBDO")),n=a("nG6b"),c=a("v9OR"),d=a("gUlz"),p=a("FF2x"),u={components:{Treeselect:o.a,IconSelect:s.a,position:l.default,rank:r.default,education:n.default,reward:c.default,assessment:d.default,expexcel:p.default},props:["pid"],data:function(){return{activeName:"second",position:"",rank:"",admin:!1,education:"",reward:"",assessment:"",expexcel:"",title:""}},watch:{pid:function(e,t){if(this.title=this.pid.items[1],"0"===this.pid.items[2]&&(this.admin=!0),"first"===this.activeName){this.position=this.pid.items[0];var a=this.$refs.position;a.admin=this.admin,a.init()}else if("second"===this.activeName){this.rank={items:[this.pid.items[0],this.admin]};var l=this.$refs.rank;l.admin=this.admin,l.init()}else if("third"===this.activeName){this.education=this.pid.items[0],this.$refs.education.init()}else if("fourth"===this.activeName){this.reward=this.pid.items[0],this.$refs.reward.init()}else if("five"===this.activeName){this.assessment=this.pid.items[0],this.$refs.assessment.init()}else if("seven"===this.activeName){this.expexcel=this.pid.items[0];this.$refs.expexcel}}},created:function(){console.log(this.pid),this.title=this.pid.items[1],"0"===this.pid.items[2]&&(this.admin=!0),"first"===this.activeName?this.position=this.pid.items[0]:"second"===this.activeName?this.rank={items:[this.pid.items[0],this.admin]}:"third"===this.activeName?this.education=this.pid.items[0]:"fourth"===this.activeName?this.reward=this.pid.items[0]:"five"===this.activeName?this.assessment=this.pid.items[0]:"seven"===this.activeName&&(this.expexcel=this.pid.items[0])},methods:{tabclick:function(){if(this.title=this.pid.items[1],"0"===this.pid.items[2]&&(this.admin=!0),"first"===this.activeName)this.position=this.pid.items[0],this.$refs.position.admin=this.admin;else if("second"===this.activeName){this.rank={items:[this.pid.items[0],this.admin]};var e=this.$refs.rank;e.admin=this.admin,e.init()}else"third"===this.activeName?this.education=this.pid.items[0]:"fourth"===this.activeName?this.reward=this.pid.items[0]:"five"===this.activeName?this.assessment=this.pid.items[0]:"seven"===this.activeName&&(this.expexcel=this.pid.items[0])}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{staticStyle:{margin:"0px"},attrs:{type:"card"},on:{"tab-click":e.tabclick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"职务信息",name:"first"}},[a("position",{ref:"position",attrs:{position:e.position}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"职级信息",name:"second"}},[a("rank",{ref:"rank",attrs:{rank:e.rank}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"学历学位",name:"third"}},[a("education",{ref:"education",attrs:{education:e.education}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"奖惩信息",name:"fourth"}},[a("reward",{ref:"reward",attrs:{reward:e.reward}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"考核信息",name:"five"}},[a("assessment",{ref:"assessment",attrs:{assessment:e.assessment}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"导出数据",name:"seven"}},[a("expexcel",{ref:"expexcel",attrs:{expexcel:e.expexcel}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:e.title,name:"six",disabled:""}},[e._v(e._s(e.pid.items[1]))])],1)},staticRenderFns:[]};var f=a("VU/8")(u,m,!1,function(e){a("0PuT")},"data-v-1f2a0da2",null);t.default=f.exports},"v22/":function(e,t){},zTJK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("gN++"),i=a("R2SV"),o={name:"exportPeople",mixins:[a("Ks07").a],data:function(){return{loading:!1,dialog:!1,unitSelect:[],unitId:"",downloadLoading:!1,selectPeople:[],title:"人员导出",data:[],query:{unitName:"",states:"全部"},enabledTypeOptions:[{key:"全部",display_name:"全部"},{key:"在职",display_name:"在职"},{key:"调出",display_name:"调出"},{key:"退休",display_name:"退休"},{key:"其他",display_name:"其他"}]}},methods:{beforeInit:function(){this.url="api/people/info";var e=this.query,t=e.states,a=e.name,l=e.unitName;return this.params={page:this.page,size:this.size,sort:"id,desc",unitId:this.unitId,name:a,states:t,unitName:l},!0},downloadPeople:function(){var e=this,t=this.query.states;if("调出"===t){var a=[];if(void 0!==this.multipleTable&&""!=this.multipleTable){for(var l=0;l<this.multipleTable.length;l++){var i=this.multipleTable[l].id;a.push(i)}var o={unitId:this.unitId,peopleIds:a};this.outOutPeopleExcel(o)}else this.$notify({title:"请选择导出人员",type:"error",duration:25e3})}else this.$confirm("是否包含下级单位?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){var a={unitId:e.unitId,isChild:"1",states:t};e.outExcel(a)}).catch(function(){var a={unitId:e.unitId,isChild:"0",states:t};e.outExcel(a)})},outExcel:function(e){this.downloadLoading=!0;var t=this;this.$axios({method:"post",url:"http://localhost:8085/api/people/outExcel",params:e,contentType:"application/x-www-form-urlencoded",responseType:"blob"}).then(function(e){console.log(e);var a=document.createElement("a"),l=new Blob([e.data],{type:"application/vnd.ms-excel"});a.style.display="none",a.href=URL.createObjectURL(l),a.setAttribute("download","人员信息表导出.xls"),document.body.appendChild(a),a.click(),document.body.removeChild(a),t.downloadLoading=!1}).catch(function(e){console.log(e)})},getUnitTrees:function(){var e=this;Object(l.m)().then(function(t){e.unitSelect=t.result,e.unitName=t.result[0].name})},outOutPeopleExcel:function(e){this.downloadLoading=!0;var t=this,a=this.unitName+"_调出人员信息表导出.zip";this.$axios({method:"post",url:"http://localhost:8085/api/people/outOutPeopleExcel",params:e,contentType:"application/x-www-form-urlencoded",responseType:"blob"}).then(function(e){console.log(e);var l=document.createElement("a"),i=new Blob([e.data],{type:"application/vnd.ms-zip"});l.style.display="none",l.href=URL.createObjectURL(i),l.setAttribute("download",a),document.body.appendChild(l),l.click(),document.body.removeChild(l),t.downloadLoading=!1}).catch(function(e){console.log(e)})},formatter:function(e,t,a,l){if(null!=e[t.property])return Object(i.a)(e[t.property])},handleSelectionChange:function(e){if(this.selectPeople=[],this.multipleTable=e,void 0!==this.multipleTable&&""!=this.multipleTable)for(var t=0;t<this.multipleTable.length;t++){var a=this.multipleTable[t].name;this.selectPeople.push(a)}}},created:function(){var e=this;this.$nextTick(function(){e.init()}),this.getUnitTrees()}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticStyle:{"margin-left":"0px"},attrs:{visible:e.dialog,title:"人员导出","append-to-body":"",width:"90%"},on:{"update:visible":function(t){e.dialog=t}}},[a("div",{staticClass:"head-container",staticStyle:{"padding-top":"10px"}},[a("el-select",{staticStyle:{width:"30%"},attrs:{filterable:"",placeholder:"请选择"},on:{change:e.toQuery},model:{value:e.query.unitName,callback:function(t){e.$set(e.query,"unitName",t)},expression:"query.unitName"}},e._l(e.unitSelect,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"10%"},attrs:{clearable:"",placeholder:"姓名或简名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.toQuery(t)}},model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}}),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"10%"},attrs:{clearable:"",placeholder:"请选择人员状态"},on:{change:e.toQuery},model:{value:e.query.states,callback:function(t){e.$set(e.query,"states",t)},expression:"query.states"}},e._l(e.enabledTypeOptions,function(e){return a("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})}),1),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"success",icon:"el-icon-search"},on:{click:e.toQuery}},[e._v("搜索\n  ")])],1),e._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%","font-size":"10px"},attrs:{"header-cell-style":{"text-align":"center",background:"#ADD8E6",color:"#030303"},"cell-style":{padding:"0px"},data:e.data,size:"small","row-key":"id","element-loading-text":"请稍后","highlight-current-row":"","element-loading-spinner":"el-icon-loading",border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection","reserve-selection":!0,width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号",fixed:"left",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"","show-overflow-tooltip":!0,fixed:"left",label:"姓名",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"idcard",width:"180px",label:"身份证号"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"","show-overflow-tooltip":!0,formatter:e.formatter,width:"110px",prop:"birthday",label:"出生年月"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,width:"50px",prop:"sex",label:"性别"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,width:"120px",prop:"birthplace",label:"籍贯"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"","show-overflow-tooltip":!0,width:"80px",prop:"nationality",label:"民族"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,formatter:e.formatter,width:"110px",prop:"workday",label:"参加工作时间"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"states",width:"90px",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"在职"===t.row.states?"success":"warning"}},[e._v(e._s(t.row.states))])]}}])}),e._v(" "),a("el-table-column",{attrs:{sortable:"","show-overflow-tooltip":!0,prop:"party",width:"110px",label:"政治面貌"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"","show-overflow-tooltip":!0,prop:"position",width:"100px",label:"职务层次"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"","show-overflow-tooltip":!0,prop:"positionLevel",width:"100px",label:"现任职级"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"politicalStatus",label:"编制类型"}})],1),e._v(" "),a("el-pagination",{staticStyle:{"margin-top":"2px",float:"right"},attrs:{total:e.total,"current-page":e.page+1,layout:"total, prev, pager, next, jumper, sizes"},on:{"size-change":e.sizeChange,"current-change":e.pageChange}}),e._v(" "),a("div",{staticStyle:{color:"#333333","text-align":"center"}},[e._v("\n      "+e._s(this.selectPeople)+"\n    ")])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.dialog=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{loading:e.downloadLoading,type:"primary"},on:{click:e.downloadPeople}},[e._v("导出")])],1)])},staticRenderFns:[]};var r=a("VU/8")(o,s,!1,function(e){a("ffp/")},"data-v-75f1689e",null);t.default=r.exports}});