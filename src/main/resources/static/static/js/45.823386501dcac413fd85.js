webpackJsonp([45],{IKnH:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("GXH0"),o=l.n(a),i=l("6pD/"),s=l("EAjQ"),r=(l("DmJO"),l("QrwQ")),n=l("mBDO"),c=l("nG6b"),p=l("v9OR"),d=l("gUlz"),m=l("FF2x"),u={components:{Treeselect:o.a,IconSelect:s.a,position:r.default,rank:n.default,education:c.default,reward:p.default,assessment:d.default,expexcel:m.default},props:{isAdd:{type:Boolean,required:!0}},data:function(){return{peopleId:"",admin:!1,position:this.peopleId,rank:{items:[this.peopleId,this.admin]},education:this.peopleId,reward:this.peopleId,assessment:this.peopleId,expexcel:this.peopleId,title:"",dialog:!1,activeName:"one",havePeople:!1,noPeople:!0,savePeople:!1,okPeople:!1,loading:!1,isOne:!1,rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],idcard:[{required:!0,message:"请输入身份证",trigger:"blur"}]},statess:[{value:"在职",label:"在职"},{value:"退休",label:"退休"},{value:"调出",label:"调出"},{value:"死亡",label:"死亡"},{value:"辞职",label:"辞职"},{value:"辞退",label:"辞退"},{value:"开除",label:"开除"},{value:"其他",label:"其他"}],sexs:[{value:"男",label:"男"},{value:"女",label:"女"}],details:[{value:"是",label:"是"},{value:"否",label:"否"}],realNames:[{value:"是",label:"是"},{value:"否",label:"否"}],partys:[],nationalitys:[],positions:[],positionLevels:[],politicalStatuss:[],form:{name:"",idcard:"",birthday:"",unitId:"",sex:"",birthplace:"",nationality:"",workday:"",party:"",partyTime:"",secondParty:"",thirdParty:"",position:"",positionTime:"",positionLevel:"",politicalStatuss:"",createTime:"",isEnable:"是",baseWorker:"否",states:"在职",detail:"",turnRankTime:"",turnRank:"",realName:""}}},methods:{handleClick:function(e,t){(console.log(e,t),"first"===this.activeName)?(this.position=this.peopleId,this.$refs.position.admin=this.admin):"second"===this.activeName?this.rank={items:[this.peopleId,this.admin]}:"third"===this.activeName?this.education=this.peopleId:"fourth"===this.activeName?this.reward=this.peopleId:"five"===this.activeName?this.assessment=this.peopleId:"seven"===this.activeName&&(this.expexcel=this.peopleId)},getNationalitys:function(){var e=this;Object(i.d)().then(function(t){e.nationalitys=t.result})},getPartys:function(){var e=this;Object(i.f)().then(function(t){e.partys=t.result})},getPositions:function(){var e=this;Object(i.j)().then(function(t){e.positions=t.result})},getPositionLevels:function(){var e=this;Object(i.k)().then(function(t){e.positionLevels=t.result})},getPoliticalStatuss:function(){var e=this;Object(i.i)().then(function(t){e.politicalStatuss=t.result})},resetForm:function(){this.dialog=!1,this.$refs.form.resetFields(),this.form={id:"",name:"",isEnable:"是",baseWorker:"否"},this.iframe="true"},cancel:function(){this.resetForm()},doSubmit:function(){var e=this;this.$refs.form.validate(function(t){t&&(e.loading=!0,e.isAdd?e.doAdd():e.doEdit())})},doOk:function(){this.dialog=!1,this.$parent.$parent.unitId=this.form.unitId,this.$parent.$parent.init()},doSubmitAnd:function(){var e=this;this.$refs.form.validate(function(t){t&&(e.loading=!0,Object(i.a)(e.form).then(function(t){e.$notify({title:"添加成功",type:"success",duration:2500}),e.$refs.form.resetFields(),e.isOne=!0,e.havePeople=!0,e.noPeople=!1,e.savePeople=!1,e.okPeople=!0,e.activeName="first",e.peopleId=t.result.id,e.position=t.result.id,e.rank=t.result.id,e.education=e.result.id,e.reward=e.result.id,e.assessment=e.result.id,e.loading=!1}).catch(function(t){e.loading=!1,console.log(t)}))})},doAdd:function(){var e=this;Object(i.a)(this.form).then(function(t){e.$notify({title:"添加成功",type:"success",duration:2500}),e.$parent.$parent.unitId=e.form.unitId,e.$parent.$parent.init(),e.resetForm(),e.loading=!1}).catch(function(t){e.loading=!1,console.log(t)})},doEdit:function(){var e=this;Object(i.c)(this.form).then(function(t){e.resetForm(),e.$notify({title:"修改成功",type:"success",duration:2500}),e.loading=!1,e.$parent.$parent.init(),e.$parent.$parent.handleNodeClick(e.form.unitId)}).catch(function(t){e.loading=!1,console.log(t)})}},created:function(){this.getNationalitys(),this.getPartys(),this.getPositions(),this.getPositionLevels(),this.getPoliticalStatuss()}},f={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-dialog",{staticStyle:{"margin-left":"0px"},attrs:{visible:e.dialog,title:e.isAdd?"新增人员":"编辑人员","append-to-body":"",width:"90%"},on:{"update:visible":function(t){e.dialog=t}}},[l("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[l("el-tab-pane",{attrs:{disabled:e.isOne,label:"基本信息",name:"one"}},[l("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,size:"small","label-width":"140px"}},[l("el-form-item",{attrs:{label:"单位Id",prop:"unitId",hidden:"true"}},[l("el-input",{model:{value:e.form.unitId,callback:function(t){e.$set(e.form,"unitId",t)},expression:"form.unitId"}})],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"姓名",prop:"name"}},[l("el-input",{staticStyle:{width:"80%"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"身份证号",prop:"idcard"}},[l("el-input",{staticStyle:{width:"80%"},model:{value:e.form.idcard,callback:function(t){e.$set(e.form,"idcard",t)},expression:"form.idcard"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"出生年月",prop:"birthday"}},[l("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"性别",prop:"sex"}},[l("el-select",{staticStyle:{width:"80%"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.sexs,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"籍贯",prop:"birthplace"}},[l("el-input",{staticStyle:{width:"80%"},model:{value:e.form.birthplace,callback:function(t){e.$set(e.form,"birthplace",t)},expression:"form.birthplace"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"民族",prop:"nationality"}},[l("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.nationality,callback:function(t){e.$set(e.form,"nationality",t)},expression:"form.nationality"}},e._l(e.nationalitys,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"参加工作时间",prop:"workday"}},[l("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.workday,callback:function(t){e.$set(e.form,"workday",t)},expression:"form.workday"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"政治面貌",prop:"party"}},[l("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.party,callback:function(t){e.$set(e.form,"party",t)},expression:"form.party"}},e._l(e.partys,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"入党（团）时间",prop:"partyTime"}},[l("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.partyTime,callback:function(t){e.$set(e.form,"partyTime",t)},expression:"form.partyTime"}})],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"第二党派",prop:"secondParty"}},[l("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.secondParty,callback:function(t){e.$set(e.form,"secondParty",t)},expression:"form.secondParty"}},e._l(e.partys,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"状态",prop:"sex"}},[l("el-select",{staticStyle:{width:"80%"},attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.states,callback:function(t){e.$set(e.form,"states",t)},expression:"form.states"}},e._l(e.statess,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"编制类型",prop:"politicalStatus"}},[l("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.politicalStatus,callback:function(t){e.$set(e.form,"politicalStatus",t)},expression:"form.politicalStatus"}},e._l(e.politicalStatuss,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"公务员登记时间",prop:"createTime"}},[l("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.createTime,callback:function(t){e.$set(e.form,"createTime",t)},expression:"form.createTime"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"军转干部首次确定职级不占职数",prop:"detail"}},[l("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.detail,callback:function(t){e.$set(e.form,"detail",t)},expression:"form.detail"}},e._l(e.details,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"实名制（单列）管理干部",prop:"realName"}},[l("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}},e._l(e.realNames,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"套转职级",prop:"turnRank"}},[l("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择",disabled:!0},model:{value:e.form.turnRank,callback:function(t){e.$set(e.form,"turnRank",t)},expression:"form.turnRank"}},e._l(e.positionLevels,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"套转职级时间",prop:"turnRankTime"}},[l("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd",disabled:!0},model:{value:e.form.turnRankTime,callback:function(t){e.$set(e.form,"turnRankTime",t)},expression:"form.turnRankTime"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"职务名称",prop:"position"}},[l("el-select",{staticStyle:{width:"80%"},attrs:{clearable:"",filterable:"",placeholder:"请选择",disabled:!0},model:{value:e.form.position,callback:function(t){e.$set(e.form,"position",t)},expression:"form.position"}},e._l(e.positions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"任职时间",prop:"positionTime"}},[l("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd",disabled:!0},model:{value:e.form.positionTime,callback:function(t){e.$set(e.form,"positionTime",t)},expression:"form.positionTime"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"职级名称",clearable:"",prop:"positionLevel"}},[l("el-select",{staticStyle:{width:"80%"},attrs:{filterable:"",placeholder:"请选择",disabled:!0},model:{value:e.form.positionLevel,callback:function(t){e.$set(e.form,"positionLevel",t)},expression:"form.positionLevel"}},e._l(e.positionLevels,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"任职级时间",prop:"positionLevelTime"}},[l("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd",disabled:!0},model:{value:e.form.positionLevelTime,callback:function(t){e.$set(e.form,"positionLevelTime",t)},expression:"form.positionLevelTime"}})],1)],1)],1),e._v(" "),l("el-row",[l("el-col",{attrs:{span:8,hidden:"true"}},[l("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"是否兼任职级",prop:"isEnable"}},[l("el-radio",{attrs:{label:"是"},model:{value:e.form.isEnable,callback:function(t){e.$set(e.form,"isEnable",t)},expression:"form.isEnable"}},[e._v("是")]),e._v(" "),l("el-radio",{attrs:{label:"否"},model:{value:e.form.isEnable,callback:function(t){e.$set(e.form,"isEnable",t)},expression:"form.isEnable"}},[e._v("否")])],1)],1),e._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{staticStyle:{width:"80%"},attrs:{label:"是否具有两年以上基层工作经历",prop:"baseWorker"}},[l("el-radio",{attrs:{label:"是"},model:{value:e.form.baseWorker,callback:function(t){e.$set(e.form,"baseWorker",t)},expression:"form.baseWorker"}},[e._v("是")]),e._v(" "),l("el-radio",{attrs:{label:"否"},model:{value:e.form.baseWorker,callback:function(t){e.$set(e.form,"baseWorker",t)},expression:"form.baseWorker"}},[e._v("否")])],1)],1)],1)],1)],1),e._v(" "),e.havePeople?l("el-tab-pane",{attrs:{name:"first"}},[l("span",{attrs:{slot:"label"},slot:"label"},[l("i",{staticClass:"el-icon-sunrise-1"}),e._v(" 职务信息")]),e._v(" "),l("position",{ref:"position",attrs:{position:e.position}})],1):e._e(),e._v(" "),e.havePeople?l("el-tab-pane",{attrs:{name:"second"}},[l("span",{attrs:{slot:"label"},slot:"label"},[l("i",{staticClass:"el-icon-date"}),e._v(" 职级信息")]),e._v(" "),l("rank",{ref:"rank",attrs:{rank:e.rank}})],1):e._e(),e._v(" "),e.havePeople?l("el-tab-pane",{attrs:{name:"third"}},[l("span",{attrs:{slot:"label"},slot:"label"},[l("i",{staticClass:"el-icon-dessert"}),e._v(" 学历学位")]),e._v(" "),l("education",{ref:"education",attrs:{education:e.education}})],1):e._e(),e._v(" "),e.havePeople?l("el-tab-pane",{attrs:{name:"fourth"}},[l("span",{attrs:{slot:"label"},slot:"label"},[l("i",{staticClass:"el-icon-orange"}),e._v(" 奖惩信息")]),e._v(" "),l("reward",{ref:"reward",attrs:{reward:e.reward}})],1):e._e(),e._v(" "),e.havePeople?l("el-tab-pane",{attrs:{name:"five"}},[l("span",{attrs:{slot:"label"},slot:"label"},[l("i",{staticClass:"el-icon-hot-water"}),e._v(" 考核信息")]),e._v(" "),l("assessment",{ref:"assessment",attrs:{assessment:e.assessment}})],1):e._e(),e._v(" "),e.havePeople?l("el-tab-pane",{attrs:{name:"seven"}},[l("span",{attrs:{slot:"label"},slot:"label"},[l("i",{staticClass:"el-icon-download"}),e._v(" 导出数据")]),e._v(" "),l("expexcel",{ref:"expexcel",attrs:{expexcel:e.expexcel}})],1):e._e(),e._v(" "),e.havePeople?l("el-tab-pane",{staticClass:"peopleName",attrs:{label:e.title,name:"six",disabled:""}},[e._v(e._s(e.title))]):e._e()],1),e._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"text"},on:{click:e.cancel}},[e._v("取消")]),e._v(" "),e.noPeople?l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.doSubmitAnd}},[e._v("保存并继续")]):e._e(),e._v(" "),e.savePeople?l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.doSubmit}},[e._v("保存")]):e._e(),e._v(" "),e.okPeople?l("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.doOk}},[e._v("确定")]):e._e()],1)],1)},staticRenderFns:[]};var v=l("VU/8")(u,f,!1,function(e){l("R1Z5")},null,null);t.default=v.exports},R1Z5:function(e,t){}});